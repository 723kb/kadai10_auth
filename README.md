# ①課題番号-プロダクト名

kadai09_db2

## ②課題内容（どんな作品か）

- 名前、内容、写真を投稿＆表示できるアプリ。

## ③DEMO

https://723kb.jp/kadai09_db2/

## ④作ったアプリケーション用のIDまたはPasswordがある場合

- ID: 今回はなし
- PW: 今回はなし

## ⑤工夫した点・こだわった点

- スクロール位置に関わらず虫眼鏡ボタンを押すと、検索欄に移動する点。
- ボタンの配置や配色を各デバイスで使いやすいよう考えた。
- 初回投稿時に写真が登録されていればそれをプレビューするようにし、写真を新たに選びなおせばプレビューも更新するようにした。
- 投稿内容を更新した時には更新日時を表示するようにした（更新がなければ表示しない）。
- 編集画面のバリデーション。

## ⑥難しかった点・次回トライしたいこと(又は機能)

- エラーメッセージの表示やプレビュー動作など複合的に問題が絡み、編集画面のバリデーション対応が難しかった。具体的にはpost.phpからedit.phpに文字数オーバーのバリデーションを流用。しかしpost.phpのように動作せず、真っ白な画面にメッセージが表示されるだけだった。var_dumpとURLでidが取得できていることは確認できていたが、「idが取得できませんでした」という別のエラーメッセージの内容が表示され意味がわからなかった。なんとかそれなりの動作にはなったが納得できていないため、解消したい。
- form actionを””にし同一ページで登録や更新の処理を記載したが、1ファイル内のコード記述量が増え可読性が低下した。特に登録表示処理のpost.phpはコードが多すぎたため2ファイルに分割したが、果たしてこのやり方が正しいのか悩ましい。
- 今後各投稿にいいね機能をつけたい。
- 位置情報の取得やAPIの利用などこれまでに学習した内容と組み合わせてバージョンアップしていきたい。

## ⑦質問・疑問・感想、シェアしたいこと等なんでも

- [感想]CRUD処理自体はなんとなく理解できるようになったが、それにJavaScriptが絡んだりデータの処理が複雑になると一気に難しく感じる。ファイルだらけになるのが嫌だが、1ファイルに処理をまとめて記載するとわけがわからなくなったので初めのうちは分割して記載した方が良さそう。